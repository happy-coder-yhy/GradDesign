# 航班选择功能使用说明

## 功能概述

在多航班调度模块中，新增了航班选择功能。当航班数量较多时，你可以选择性地查看特定航班的滑行路线，提高可视化效果的可读性。

## 主要特性

### 1. 航班列表选择
- ✅ 每个航班卡片前都有复选框
- ✅ 点击整个卡片也可以切换选择状态
- ✅ 选中的航班会高亮显示（蓝色边框+光晕效果）

### 2. 批量操作
- ✅ **全选**：一键选择所有航班
- ✅ **取消全选**：一键取消所有选择
- ✅ **清除选择**：快速清空已选航班

### 3. 智能显示逻辑
- ✅ **未选择时**：显示所有航班的滑行路线（默认行为）
- ✅ **选择后**：只显示选中航班的滑行路线
- ✅ **动态更新**：选择状态改变时画布实时更新

### 4. 选择统计
- ✅ 显示"已选择 X / Y"统计信息
- ✅ 实时更新选择数量

## 使用步骤

### 步骤1：完成调度
首先需要完成航班调度：
1. 选择航班数据来源（随机生成或上传文件）
2. 提取/生成航班信息
3. 点击"开始调度"按钮
4. 等待调度完成

### 步骤2：选择航班
调度完成后，航班列表中的复选框变为可用状态：

**方法1：单个选择**
- 点击航班卡片前的复选框
- 或直接点击整个航班卡片

**方法2：全选**
- 点击"全选"按钮

**方法3：部分选择**
- 手动勾选需要的航班

### 步骤3：查看结果
- 画布中会实时显示选中航班的滑行路线
- 未选中的航班路线会被隐藏
- 只显示选中航班相关的冲突点

### 步骤4：恢复显示
如果想恢复显示所有航班：
- 点击"清除选择"按钮
- 或点击"取消全选"

## UI说明

### 航班列表头部
```
┌─────────────────────────────────────┐
│ 航班列表                             │
│ 已选择: 3 / 20  [全选] [清除选择]    │
└─────────────────────────────────────┘
```

### 航班卡片
```
┌──────────────────────────────────────┐
│ ☑ CA1234          A320               │
│   任务: 离港     时间: 08:00         │
│   距离: 2.5 km    延误: 0.5 分钟     │
└──────────────────────────────────────┘
```

**状态说明：**
- ☑ 选中（蓝色边框+高亮）
- ☐ 未选中（默认样式）

## 注意事项

### 1. 启用条件
- 只有完成调度后，复选框才可用
- 未调度时复选框显示为禁用状态

### 2. 默认行为
- 初始状态显示所有航班
- 不需要手动选择即可查看全部

### 3. 冲突显示
- 只显示选中航班的冲突
- 未选中航班的冲突会被隐藏

### 4. 性能考虑
- 适用于20-50架航班
- 航班过多时建议使用选择功能

## 快捷操作示例

### 场景1：查看离港航班
1. 完成调度
2. 只勾选operation为"departure"的航班
3. 画布中只显示离港路径

### 场景2：对比两条路径
1. 完成调度
2. 只选择2个航班
3. 清晰对比两条路径的差异

### 场景3：分析冲突
1. 完成调度
2. 选择有冲突的航班
3. 专注查看冲突点

### 场景4：分批查看
1. 完成调度
2. 先选择前10架查看
3. 清除选择，再选择后10架查看

## 技术实现

### 数据结构
```javascript
data() {
  return {
    selectedFlightIds: []  // 存储选中的航班ID
  }
}
```

### 核心方法
- `toggleFlightSelection(flightId)` - 切换单个航班选择
- `toggleSelectAll()` - 全选/取消全选
- `clearSelection()` - 清除所有选择

### 绘制逻辑
```javascript
// 如果没有选择，显示所有
const schedulesToDraw = this.selectedFlightIds.length === 0
  ? this.schedules
  : this.schedules.filter(s => this.selectedFlightIds.includes(s.flight_id));
```

## 样式效果

### 选中状态
- 边框颜色：`#4facfe`（亮蓝色）
- 背景色：`rgba(79, 172, 254, 0.15)`
- 光晕效果：`0 0 15px rgba(79, 172, 254, 0.3)`

### 鼠标悬停
- 边框颜色加深
- 背景颜色变深

### 禁用状态
- 复选框灰色显示
- 鼠标变为 not-allowed

## 浏览器兼容性

- ✅ Chrome 90+
- ✅ Firefox 88+
- ✅ Safari 14+
- ✅ Edge 90+

## 更新日志

### 2024-01-26
- ✅ 新增航班选择功能
- ✅ 添加全选/取消全选按钮
- ✅ 添加选择统计显示
- ✅ 优化画布绘制逻辑
- ✅ 改进UI交互体验

## 反馈与建议

如有问题或建议，请联系开发团队。
